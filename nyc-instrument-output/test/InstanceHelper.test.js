function cov_xvxuszl5c(){var path="D:\\Programming\\xyz\\dizy\\src\\test\\InstanceHelper.test.js";var hash="cf79fda5a0e0eb9e5101b3b1e1db3e438fc9ebb3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Programming\\xyz\\dizy\\src\\test\\InstanceHelper.test.js",statementMap:{"0":{start:{line:10,column:0},end:{line:51,column:3}},"1":{start:{line:11,column:20},end:{line:11,column:44}},"2":{start:{line:12,column:17},end:{line:12,column:60}},"3":{start:{line:14,column:1},end:{line:50,column:4}},"4":{start:{line:15,column:2},end:{line:32,column:5}},"5":{start:{line:18,column:5},end:{line:18,column:16}},"6":{start:{line:19,column:5},end:{line:19,column:16}},"7":{start:{line:22,column:21},end:{line:29,column:4}},"8":{start:{line:30,column:25},end:{line:30,column:65}},"9":{start:{line:31,column:3},end:{line:31,column:120}},"10":{start:{line:34,column:2},end:{line:49,column:5}},"11":{start:{line:36,column:4},end:{line:36,column:19}},"12":{start:{line:38,column:21},end:{line:45,column:4}},"13":{start:{line:46,column:24},end:{line:46,column:64}},"14":{start:{line:47,column:23},end:{line:47,column:99}},"15":{start:{line:48,column:3},end:{line:48,column:37}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:27},end:{line:10,column:28}},loc:{start:{line:10,column:33},end:{line:51,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:37},end:{line:14,column:38}},loc:{start:{line:14,column:43},end:{line:50,column:2}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:82},end:{line:15,column:83}},loc:{start:{line:15,column:88},end:{line:32,column:3}},line:15},"3":{name:"(anonymous_3)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:22},end:{line:20,column:5}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:34,column:85},end:{line:34,column:86}},loc:{start:{line:34,column:91},end:{line:49,column:3}},line:34},"5":{name:"K",decl:{start:{line:35,column:12},end:{line:35,column:13}},loc:{start:{line:35,column:17},end:{line:37,column:4}},line:35}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cf79fda5a0e0eb9e5101b3b1e1db3e438fc9ebb3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_xvxuszl5c=function(){return actualCoverage;};}return actualCoverage;}cov_xvxuszl5c();import DependencyTreeNode from"../containers/helpers/DependencyTreeNode.js";import{assert}from"chai";import InstanceHelper from"../containers/helpers/InstanceHelper.js";import DIObjectKeyFactory from"../containers/helpers/DIObjectKeyFactory.js";import SingletoneLifecycle from"../lifecycle/SingletoneLifecycle.js";// import ContextContainer from "../containers/ContextContainer.js";
import DIClazz from"../DIClazz.js";import ContextContainerFactory from"../containers/ContextContainerFactory.js";cov_xvxuszl5c().s[0]++;describe("InstanceHelper",()=>{cov_xvxuszl5c().f[0]++;const keyFactory=(cov_xvxuszl5c().s[1]++,new DIObjectKeyFactory());const context=(cov_xvxuszl5c().s[2]++,ContextContainerFactory.createContainer([]));cov_xvxuszl5c().s[3]++;describe("InstanceHelper.create()",()=>{cov_xvxuszl5c().f[1]++;cov_xvxuszl5c().s[4]++;it("create instance of class C - InstanceHelper.create(clazzTreeNode, [A, B])",()=>{cov_xvxuszl5c().f[2]++;class C{constructor(A,B){cov_xvxuszl5c().f[3]++;cov_xvxuszl5c().s[5]++;this.a=A;cov_xvxuszl5c().s[6]++;this.b=B;}}const baseClazz=(cov_xvxuszl5c().s[7]++,new DIClazz(keyFactory.createKey(context,"testClass",new SingletoneLifecycle(),true),"testClass",C,true,new SingletoneLifecycle(),{args:["A","B"]}));const classTreeNode=(cov_xvxuszl5c().s[8]++,new DependencyTreeNode(baseClazz,0,[]));cov_xvxuszl5c().s[9]++;assert.instanceOf(InstanceHelper.createInstance(classTreeNode,[{width:10},{height:10}]),classTreeNode.type);});cov_xvxuszl5c().s[10]++;it("create instance of function K - InstanceHelper.create(clazzTreeNode, [T, D])",()=>{cov_xvxuszl5c().f[4]++;function K(T){cov_xvxuszl5c().f[5]++;cov_xvxuszl5c().s[11]++;return T.width;}const baseClazz=(cov_xvxuszl5c().s[12]++,new DIClazz(keyFactory.createKey(context,"testFunc",new SingletoneLifecycle(),true),"testFunc",K,false,new SingletoneLifecycle(),{args:["T"]}));const funcTreeNode=(cov_xvxuszl5c().s[13]++,new DependencyTreeNode(baseClazz,0,[]));const funcWrapper=(cov_xvxuszl5c().s[14]++,InstanceHelper.createInstance(funcTreeNode,[{width:10},{height:10}]));cov_xvxuszl5c().s[15]++;assert.equal(funcWrapper.func,K);});});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfeHZ4dXN6bDVjIiwiYWN0dWFsQ292ZXJhZ2UiLCJEZXBlbmRlbmN5VHJlZU5vZGUiLCJhc3NlcnQiLCJJbnN0YW5jZUhlbHBlciIsIkRJT2JqZWN0S2V5RmFjdG9yeSIsIlNpbmdsZXRvbmVMaWZlY3ljbGUiLCJESUNsYXp6IiwiQ29udGV4dENvbnRhaW5lckZhY3RvcnkiLCJzIiwiZGVzY3JpYmUiLCJmIiwia2V5RmFjdG9yeSIsImNvbnRleHQiLCJjcmVhdGVDb250YWluZXIiLCJpdCIsIkMiLCJjb25zdHJ1Y3RvciIsIkEiLCJCIiwiYSIsImIiLCJiYXNlQ2xhenoiLCJjcmVhdGVLZXkiLCJhcmdzIiwiY2xhc3NUcmVlTm9kZSIsImluc3RhbmNlT2YiLCJjcmVhdGVJbnN0YW5jZSIsIndpZHRoIiwiaGVpZ2h0IiwidHlwZSIsIksiLCJUIiwiZnVuY1RyZWVOb2RlIiwiZnVuY1dyYXBwZXIiLCJlcXVhbCIsImZ1bmMiXSwic291cmNlcyI6WyJJbnN0YW5jZUhlbHBlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZXBlbmRlbmN5VHJlZU5vZGUgZnJvbSBcIi4uL2NvbnRhaW5lcnMvaGVscGVycy9EZXBlbmRlbmN5VHJlZU5vZGUuanNcIjtcclxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcImNoYWlcIjtcclxuaW1wb3J0IEluc3RhbmNlSGVscGVyIGZyb20gXCIuLi9jb250YWluZXJzL2hlbHBlcnMvSW5zdGFuY2VIZWxwZXIuanNcIjtcclxuaW1wb3J0IERJT2JqZWN0S2V5RmFjdG9yeSBmcm9tIFwiLi4vY29udGFpbmVycy9oZWxwZXJzL0RJT2JqZWN0S2V5RmFjdG9yeS5qc1wiO1xyXG5pbXBvcnQgU2luZ2xldG9uZUxpZmVjeWNsZSBmcm9tIFwiLi4vbGlmZWN5Y2xlL1NpbmdsZXRvbmVMaWZlY3ljbGUuanNcIjtcclxuLy8gaW1wb3J0IENvbnRleHRDb250YWluZXIgZnJvbSBcIi4uL2NvbnRhaW5lcnMvQ29udGV4dENvbnRhaW5lci5qc1wiO1xyXG5pbXBvcnQgRElDbGF6eiBmcm9tIFwiLi4vRElDbGF6ei5qc1wiO1xyXG5pbXBvcnQgQ29udGV4dENvbnRhaW5lckZhY3RvcnkgZnJvbSBcIi4uL2NvbnRhaW5lcnMvQ29udGV4dENvbnRhaW5lckZhY3RvcnkuanNcIjtcclxuXHJcbmRlc2NyaWJlKFwiSW5zdGFuY2VIZWxwZXJcIiwgKCkgPT4ge1xyXG5cdGNvbnN0IGtleUZhY3RvcnkgPSBuZXcgRElPYmplY3RLZXlGYWN0b3J5KCk7XHJcblx0Y29uc3QgY29udGV4dCA9IENvbnRleHRDb250YWluZXJGYWN0b3J5LmNyZWF0ZUNvbnRhaW5lcihbXSk7XHJcblxyXG5cdGRlc2NyaWJlKFwiSW5zdGFuY2VIZWxwZXIuY3JlYXRlKClcIiwgKCkgPT4ge1xyXG5cdFx0aXQoXCJjcmVhdGUgaW5zdGFuY2Ugb2YgY2xhc3MgQyAtIEluc3RhbmNlSGVscGVyLmNyZWF0ZShjbGF6elRyZWVOb2RlLCBbQSwgQl0pXCIsICgpID0+IHtcclxuXHRcdFx0Y2xhc3MgQyB7XHJcblx0XHRcdFx0Y29uc3RydWN0b3IoQSwgQikge1xyXG5cdFx0XHRcdFx0dGhpcy5hID0gQTtcclxuXHRcdFx0XHRcdHRoaXMuYiA9IEI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGJhc2VDbGF6eiA9IG5ldyBESUNsYXp6KFxyXG5cdFx0XHRcdGtleUZhY3RvcnkuY3JlYXRlS2V5KGNvbnRleHQsIFwidGVzdENsYXNzXCIsIG5ldyBTaW5nbGV0b25lTGlmZWN5Y2xlKCksIHRydWUpLFxyXG5cdFx0XHRcdFwidGVzdENsYXNzXCIsXHJcblx0XHRcdFx0QyxcclxuXHRcdFx0XHR0cnVlLFxyXG5cdFx0XHRcdG5ldyBTaW5nbGV0b25lTGlmZWN5Y2xlKCksXHJcblx0XHRcdFx0eyBhcmdzOiBbXCJBXCIsIFwiQlwiXSB9LFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRjb25zdCBjbGFzc1RyZWVOb2RlID0gbmV3IERlcGVuZGVuY3lUcmVlTm9kZShiYXNlQ2xhenosIDAsIFtdKTtcclxuXHRcdFx0YXNzZXJ0Lmluc3RhbmNlT2YoSW5zdGFuY2VIZWxwZXIuY3JlYXRlSW5zdGFuY2UoY2xhc3NUcmVlTm9kZSwgW3sgd2lkdGg6IDEwIH0sIHsgaGVpZ2h0OiAxMCB9XSksIGNsYXNzVHJlZU5vZGUudHlwZSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpdChcImNyZWF0ZSBpbnN0YW5jZSBvZiBmdW5jdGlvbiBLIC0gSW5zdGFuY2VIZWxwZXIuY3JlYXRlKGNsYXp6VHJlZU5vZGUsIFtULCBEXSlcIiwgKCkgPT4ge1xyXG5cdFx0XHRmdW5jdGlvbiBLKFQpIHtcclxuXHRcdFx0XHRyZXR1cm4gVC53aWR0aDtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBiYXNlQ2xhenogPSBuZXcgRElDbGF6eihcclxuXHRcdFx0XHRrZXlGYWN0b3J5LmNyZWF0ZUtleShjb250ZXh0LCBcInRlc3RGdW5jXCIsIG5ldyBTaW5nbGV0b25lTGlmZWN5Y2xlKCksIHRydWUpLFxyXG5cdFx0XHRcdFwidGVzdEZ1bmNcIixcclxuXHRcdFx0XHRLLFxyXG5cdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHRcdG5ldyBTaW5nbGV0b25lTGlmZWN5Y2xlKCksXHJcblx0XHRcdFx0eyBhcmdzOiBbXCJUXCJdIH0sXHJcblx0XHRcdCk7XHJcblx0XHRcdGNvbnN0IGZ1bmNUcmVlTm9kZSA9IG5ldyBEZXBlbmRlbmN5VHJlZU5vZGUoYmFzZUNsYXp6LCAwLCBbXSk7XHJcblx0XHRcdGNvbnN0IGZ1bmNXcmFwcGVyID0gSW5zdGFuY2VIZWxwZXIuY3JlYXRlSW5zdGFuY2UoZnVuY1RyZWVOb2RlLCBbeyB3aWR0aDogMTAgfSwgeyBoZWlnaHQ6IDEwIH1dKTtcclxuXHRcdFx0YXNzZXJ0LmVxdWFsKGZ1bmNXcmFwcGVyLmZ1bmMsIEspO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiIyOEVBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNB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