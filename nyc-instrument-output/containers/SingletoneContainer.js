function cov_2n55ui8quc(){var path="D:\\Programming\\xyz\\dizy\\src\\containers\\SingletoneContainer.js";var hash="d1fe4d20c6bb8910b470f2305980335facd84020";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Programming\\xyz\\dizy\\src\\containers\\SingletoneContainer.js",statementMap:{"0":{start:{line:18,column:2},end:{line:18,column:31}},"1":{start:{line:19,column:36},end:{line:19,column:119}},"2":{start:{line:19,column:64},end:{line:19,column:118}},"3":{start:{line:20,column:2},end:{line:22,column:3}},"4":{start:{line:21,column:3},end:{line:21,column:92}},"5":{start:{line:23,column:2},end:{line:23,column:24}},"6":{start:{line:27,column:14},end:{line:27,column:32}},"7":{start:{line:34,column:2},end:{line:36,column:3}},"8":{start:{line:35,column:3},end:{line:35,column:84}},"9":{start:{line:37,column:2},end:{line:37,column:39}},"10":{start:{line:41,column:2},end:{line:41,column:42}},"11":{start:{line:42,column:19},end:{line:42,column:45}},"12":{start:{line:43,column:2},end:{line:43,column:56}},"13":{start:{line:44,column:2},end:{line:44,column:18}},"14":{start:{line:54,column:2},end:{line:56,column:3}},"15":{start:{line:55,column:3},end:{line:55,column:97}},"16":{start:{line:59,column:2},end:{line:66,column:3}},"17":{start:{line:61,column:4},end:{line:61,column:43}},"18":{start:{line:62,column:4},end:{line:62,column:48}},"19":{start:{line:65,column:3},end:{line:65,column:113}},"20":{start:{line:67,column:2},end:{line:67,column:41}},"21":{start:{line:76,column:2},end:{line:76,column:38}},"22":{start:{line:86,column:18},end:{line:86,column:46}},"23":{start:{line:87,column:2},end:{line:89,column:3}},"24":{start:{line:88,column:3},end:{line:88,column:18}},"25":{start:{line:91,column:16},end:{line:91,column:82}},"26":{start:{line:91,column:49},end:{line:91,column:81}},"27":{start:{line:92,column:2},end:{line:94,column:3}},"28":{start:{line:93,column:3},end:{line:93,column:20}},"29":{start:{line:95,column:2},end:{line:95,column:36}},"30":{start:{line:103,column:2},end:{line:103,column:22}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:1},end:{line:17,column:2}},loc:{start:{line:17,column:41},end:{line:24,column:2}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:55},end:{line:19,column:56}},loc:{start:{line:19,column:64},end:{line:19,column:118}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:33,column:1},end:{line:33,column:2}},loc:{start:{line:33,column:32},end:{line:38,column:2}},line:33},"3":{name:"(anonymous_3)",decl:{start:{line:52,column:1},end:{line:52,column:2}},loc:{start:{line:52,column:29},end:{line:68,column:2}},line:52},"4":{name:"(anonymous_4)",decl:{start:{line:60,column:28},end:{line:60,column:29}},loc:{start:{line:60,column:41},end:{line:63,column:4}},line:60},"5":{name:"(anonymous_5)",decl:{start:{line:75,column:1},end:{line:75,column:2}},loc:{start:{line:75,column:18},end:{line:77,column:2}},line:75},"6":{name:"(anonymous_6)",decl:{start:{line:84,column:1},end:{line:84,column:2}},loc:{start:{line:84,column:18},end:{line:96,column:2}},line:84},"7":{name:"(anonymous_7)",decl:{start:{line:91,column:40},end:{line:91,column:41}},loc:{start:{line:91,column:49},end:{line:91,column:81}},line:91},"8":{name:"(anonymous_8)",decl:{start:{line:102,column:1},end:{line:102,column:2}},loc:{start:{line:102,column:13},end:{line:104,column:2}},line:102}},branchMap:{"0":{loc:{start:{line:17,column:21},end:{line:17,column:39}},type:"default-arg",locations:[{start:{line:17,column:37},end:{line:17,column:39}}],line:17},"1":{loc:{start:{line:20,column:2},end:{line:22,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:22,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:20},"2":{loc:{start:{line:34,column:2},end:{line:36,column:3}},type:"if",locations:[{start:{line:34,column:2},end:{line:36,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:34},"3":{loc:{start:{line:54,column:2},end:{line:56,column:3}},type:"if",locations:[{start:{line:54,column:2},end:{line:56,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:54},"4":{loc:{start:{line:59,column:2},end:{line:66,column:3}},type:"if",locations:[{start:{line:59,column:2},end:{line:66,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:59},"5":{loc:{start:{line:87,column:2},end:{line:89,column:3}},type:"if",locations:[{start:{line:87,column:2},end:{line:89,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:87},"6":{loc:{start:{line:92,column:2},end:{line:94,column:3}},type:"if",locations:[{start:{line:92,column:2},end:{line:94,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:92}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d1fe4d20c6bb8910b470f2305980335facd84020"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2n55ui8quc=function(){return actualCoverage;};}return actualCoverage;}cov_2n55ui8quc();import LifecycleEnum from"../constants/LifecycleEnum.js";import ContainerHasClassWithInvalidLifecycle from"../errors/ContainerHasClassWithInvalidLifecycle.js";import SimpleContainer from"./SimpleContainer.js";import DIObjectKey from"./helpers/DIObjectKey.js";import InstancesMap from"./helpers/InstancesMap.js";/** Class representing simple DI container with singletone lifecycle
 * @class
 * @extends SimpleContainer
 */class SingletoneContainer extends SimpleContainer{/**
	 *
	 * @param {AbstractContextContainer} parent - parent container
	 * @param {DependencyTree[]} [classTreeList=[]] - list of di objects dependency tree
	 */constructor(parent,classTreeList=(cov_2n55ui8quc().b[0][0]++,[])){cov_2n55ui8quc().f[0]++;cov_2n55ui8quc().s[0]++;super(parent,classTreeList);const classWithInvalidLifecycle=(cov_2n55ui8quc().s[1]++,classTreeList.find(cls=>{cov_2n55ui8quc().f[1]++;cov_2n55ui8quc().s[2]++;return cls.baseNode.lifecycle.id!==LifecycleEnum.Singletone;}));cov_2n55ui8quc().s[3]++;if(classWithInvalidLifecycle){cov_2n55ui8quc().b[1][0]++;cov_2n55ui8quc().s[4]++;throw new ContainerHasClassWithInvalidLifecycle("Singletone",classWithInvalidLifecycle);}else{cov_2n55ui8quc().b[1][1]++;}cov_2n55ui8quc().s[5]++;this.#parent=parent;}#parent;#instances=(cov_2n55ui8quc().s[6]++,new InstancesMap());/** Adds new di object
	 * @public
	 * @param {DependencyTree} diObjectClazzTree
	 */addDIObject(diObjectClazzTree){cov_2n55ui8quc().f[2]++;cov_2n55ui8quc().s[7]++;if(diObjectClazzTree.baseNode.lifecycle.id!==LifecycleEnum.Singletone){cov_2n55ui8quc().b[2][0]++;cov_2n55ui8quc().s[8]++;throw new ContainerHasClassWithInvalidLifecycle("Singletone",diObjectClazzTree);}else{cov_2n55ui8quc().b[2][1]++;}cov_2n55ui8quc().s[9]++;super.addDIObject(diObjectClazzTree);}#buildInstance(clazz){cov_2n55ui8quc().s[10]++;clazz.baseNode.lifecycle.beforeCreate();const instance=(cov_2n55ui8quc().s[11]++,this._buildInstance(clazz));cov_2n55ui8quc().s[12]++;clazz.baseNode.lifecycle.afterCreate.bind(instance)();cov_2n55ui8quc().s[13]++;return instance;}/** Adds instance to instancesMap
	 * @protected
	 * @param {DIObjectKey} key
	 * @param {Object|FunctionWrapper} instance
	 */_addInstance(key,instance){cov_2n55ui8quc().f[3]++;cov_2n55ui8quc().s[14]++;// check that key is valid (there is a classTree node with that key)
if(!(key instanceof DIObjectKey)){cov_2n55ui8quc().b[3][0]++;cov_2n55ui8quc().s[15]++;throw new Error(`Invalid key type. Argument 'key' must be an instance of DIObjectKey class.`);}else{cov_2n55ui8quc().b[3][1]++;}// delete this rule, because we need to access adding instance from outside
// don't delete this rule, because we don't need to do ServiceLocator
cov_2n55ui8quc().s[16]++;if(!this.classTreeList.find(clsTree=>{cov_2n55ui8quc().f[4]++;cov_2n55ui8quc().s[17]++;console.log(clsTree.baseNode.key,key);cov_2n55ui8quc().s[18]++;return clsTree.baseNode.key.key===key.key;})){cov_2n55ui8quc().b[4][0]++;cov_2n55ui8quc().s[19]++;throw new Error(`ClassTree with key ${key.key} in '${this.getParent().name}/SingletoneContainer' not found.`);}else{cov_2n55ui8quc().b[4][1]++;}cov_2n55ui8quc().s[20]++;this.#instances.set(key.key,instance);}/** Returns boolean indicating whether an element with the specified key exists or not.
	 *
	 * @param {DIObjectKey} key
	 * @returns {boolean}
	 */hasInstance(key){cov_2n55ui8quc().f[5]++;cov_2n55ui8quc().s[21]++;return this.#instances.has(key.key);}/**
	 *
	 * @param {DIObjectKey} key
	 * @returns {Object|FunctionWrapper}
	 */getInstance(key){cov_2n55ui8quc().f[6]++;// const existed = this.#instances.get(key.key);
const existed=(cov_2n55ui8quc().s[22]++,this.#instances.get(key.key));cov_2n55ui8quc().s[23]++;if(existed){cov_2n55ui8quc().b[5][0]++;cov_2n55ui8quc().s[24]++;return existed;}else{cov_2n55ui8quc().b[5][1]++;}// const clazz = this.classTreeList.find(cls => deepEqual(Symbol.keyFor(cls.baseNode.key.key), Symbol.keyFor(key.key)));
const clazz=(cov_2n55ui8quc().s[25]++,this.classTreeList.find(cls=>{cov_2n55ui8quc().f[7]++;cov_2n55ui8quc().s[26]++;return cls.baseNode.key.key===key.key;}));cov_2n55ui8quc().s[27]++;if(!clazz){cov_2n55ui8quc().b[6][0]++;cov_2n55ui8quc().s[28]++;return undefined;}else{cov_2n55ui8quc().b[6][1]++;}cov_2n55ui8quc().s[29]++;return this.#buildInstance(clazz);}/** Returns context that's a parent container of this SessionContainer
	 *
	 * @returns {ContextContainer}
	 */getParent(){cov_2n55ui8quc().f[8]++;cov_2n55ui8quc().s[30]++;return this.#parent;}}export default SingletoneContainer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm41NXVpOHF1YyIsImFjdHVhbENvdmVyYWdlIiwiTGlmZWN5Y2xlRW51bSIsIkNvbnRhaW5lckhhc0NsYXNzV2l0aEludmFsaWRMaWZlY3ljbGUiLCJTaW1wbGVDb250YWluZXIiLCJESU9iamVjdEtleSIsIkluc3RhbmNlc01hcCIsIlNpbmdsZXRvbmVDb250YWluZXIiLCJjb25zdHJ1Y3RvciIsInBhcmVudCIsImNsYXNzVHJlZUxpc3QiLCJiIiwiZiIsInMiLCJjbGFzc1dpdGhJbnZhbGlkTGlmZWN5Y2xlIiwiZmluZCIsImNscyIsImJhc2VOb2RlIiwibGlmZWN5Y2xlIiwiaWQiLCJTaW5nbGV0b25lIiwiaW5zdGFuY2VzIiwiYWRkRElPYmplY3QiLCJkaU9iamVjdENsYXp6VHJlZSIsImJ1aWxkSW5zdGFuY2UiLCIjYnVpbGRJbnN0YW5jZSIsImNsYXp6IiwiYmVmb3JlQ3JlYXRlIiwiaW5zdGFuY2UiLCJfYnVpbGRJbnN0YW5jZSIsImFmdGVyQ3JlYXRlIiwiYmluZCIsIl9hZGRJbnN0YW5jZSIsImtleSIsIkVycm9yIiwiY2xzVHJlZSIsImNvbnNvbGUiLCJsb2ciLCJnZXRQYXJlbnQiLCJuYW1lIiwic2V0IiwiaGFzSW5zdGFuY2UiLCJoYXMiLCJnZXRJbnN0YW5jZSIsImV4aXN0ZWQiLCJnZXQiLCJ1bmRlZmluZWQiXSwic291cmNlcyI6WyJTaW5nbGV0b25lQ29udGFpbmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaWZlY3ljbGVFbnVtIGZyb20gXCIuLi9jb25zdGFudHMvTGlmZWN5Y2xlRW51bS5qc1wiO1xyXG5pbXBvcnQgQ29udGFpbmVySGFzQ2xhc3NXaXRoSW52YWxpZExpZmVjeWNsZSBmcm9tIFwiLi4vZXJyb3JzL0NvbnRhaW5lckhhc0NsYXNzV2l0aEludmFsaWRMaWZlY3ljbGUuanNcIjtcclxuaW1wb3J0IFNpbXBsZUNvbnRhaW5lciBmcm9tIFwiLi9TaW1wbGVDb250YWluZXIuanNcIjtcclxuaW1wb3J0IERJT2JqZWN0S2V5IGZyb20gXCIuL2hlbHBlcnMvRElPYmplY3RLZXkuanNcIjtcclxuaW1wb3J0IEluc3RhbmNlc01hcCBmcm9tIFwiLi9oZWxwZXJzL0luc3RhbmNlc01hcC5qc1wiO1xyXG5cclxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBzaW1wbGUgREkgY29udGFpbmVyIHdpdGggc2luZ2xldG9uZSBsaWZlY3ljbGVcclxuICogQGNsYXNzXHJcbiAqIEBleHRlbmRzIFNpbXBsZUNvbnRhaW5lclxyXG4gKi9cclxuY2xhc3MgU2luZ2xldG9uZUNvbnRhaW5lciBleHRlbmRzIFNpbXBsZUNvbnRhaW5lciB7XHJcblx0LyoqXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge0Fic3RyYWN0Q29udGV4dENvbnRhaW5lcn0gcGFyZW50IC0gcGFyZW50IGNvbnRhaW5lclxyXG5cdCAqIEBwYXJhbSB7RGVwZW5kZW5jeVRyZWVbXX0gW2NsYXNzVHJlZUxpc3Q9W11dIC0gbGlzdCBvZiBkaSBvYmplY3RzIGRlcGVuZGVuY3kgdHJlZVxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKHBhcmVudCwgY2xhc3NUcmVlTGlzdCA9IFtdKSB7XHJcblx0XHRzdXBlcihwYXJlbnQsIGNsYXNzVHJlZUxpc3QpO1xyXG5cdFx0Y29uc3QgY2xhc3NXaXRoSW52YWxpZExpZmVjeWNsZSA9IGNsYXNzVHJlZUxpc3QuZmluZCgoY2xzKSA9PiBjbHMuYmFzZU5vZGUubGlmZWN5Y2xlLmlkICE9PSBMaWZlY3ljbGVFbnVtLlNpbmdsZXRvbmUpO1xyXG5cdFx0aWYgKGNsYXNzV2l0aEludmFsaWRMaWZlY3ljbGUpIHtcclxuXHRcdFx0dGhyb3cgbmV3IENvbnRhaW5lckhhc0NsYXNzV2l0aEludmFsaWRMaWZlY3ljbGUoXCJTaW5nbGV0b25lXCIsIGNsYXNzV2l0aEludmFsaWRMaWZlY3ljbGUpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy4jcGFyZW50ID0gcGFyZW50O1xyXG5cdH1cclxuXHJcblx0I3BhcmVudDtcclxuXHQjaW5zdGFuY2VzID0gbmV3IEluc3RhbmNlc01hcCgpO1xyXG5cclxuXHQvKiogQWRkcyBuZXcgZGkgb2JqZWN0XHJcblx0ICogQHB1YmxpY1xyXG5cdCAqIEBwYXJhbSB7RGVwZW5kZW5jeVRyZWV9IGRpT2JqZWN0Q2xhenpUcmVlXHJcblx0ICovXHJcblx0YWRkRElPYmplY3QoZGlPYmplY3RDbGF6elRyZWUpIHtcclxuXHRcdGlmIChkaU9iamVjdENsYXp6VHJlZS5iYXNlTm9kZS5saWZlY3ljbGUuaWQgIT09IExpZmVjeWNsZUVudW0uU2luZ2xldG9uZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgQ29udGFpbmVySGFzQ2xhc3NXaXRoSW52YWxpZExpZmVjeWNsZShcIlNpbmdsZXRvbmVcIiwgZGlPYmplY3RDbGF6elRyZWUpO1xyXG5cdFx0fVxyXG5cdFx0c3VwZXIuYWRkRElPYmplY3QoZGlPYmplY3RDbGF6elRyZWUpO1xyXG5cdH1cclxuXHJcblx0I2J1aWxkSW5zdGFuY2UoY2xhenopIHtcclxuXHRcdGNsYXp6LmJhc2VOb2RlLmxpZmVjeWNsZS5iZWZvcmVDcmVhdGUoKTtcclxuXHRcdGNvbnN0IGluc3RhbmNlID0gdGhpcy5fYnVpbGRJbnN0YW5jZShjbGF6eik7XHJcblx0XHRjbGF6ei5iYXNlTm9kZS5saWZlY3ljbGUuYWZ0ZXJDcmVhdGUuYmluZChpbnN0YW5jZSkoKTtcclxuXHRcdHJldHVybiBpbnN0YW5jZTtcclxuXHR9XHJcblxyXG5cdC8qKiBBZGRzIGluc3RhbmNlIHRvIGluc3RhbmNlc01hcFxyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiBAcGFyYW0ge0RJT2JqZWN0S2V5fSBrZXlcclxuXHQgKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbldyYXBwZXJ9IGluc3RhbmNlXHJcblx0ICovXHJcblx0X2FkZEluc3RhbmNlKGtleSwgaW5zdGFuY2UpIHtcclxuXHRcdC8vIGNoZWNrIHRoYXQga2V5IGlzIHZhbGlkICh0aGVyZSBpcyBhIGNsYXNzVHJlZSBub2RlIHdpdGggdGhhdCBrZXkpXHJcblx0XHRpZiAoIShrZXkgaW5zdGFuY2VvZiBESU9iamVjdEtleSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGtleSB0eXBlLiBBcmd1bWVudCAna2V5JyBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIERJT2JqZWN0S2V5IGNsYXNzLmApO1xyXG5cdFx0fVxyXG5cdFx0Ly8gZGVsZXRlIHRoaXMgcnVsZSwgYmVjYXVzZSB3ZSBuZWVkIHRvIGFjY2VzcyBhZGRpbmcgaW5zdGFuY2UgZnJvbSBvdXRzaWRlXHJcblx0XHQvLyBkb24ndCBkZWxldGUgdGhpcyBydWxlLCBiZWNhdXNlIHdlIGRvbid0IG5lZWQgdG8gZG8gU2VydmljZUxvY2F0b3JcclxuXHRcdGlmIChcclxuXHRcdFx0IXRoaXMuY2xhc3NUcmVlTGlzdC5maW5kKChjbHNUcmVlKSA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coY2xzVHJlZS5iYXNlTm9kZS5rZXksIGtleSk7XHJcblx0XHRcdFx0cmV0dXJuIGNsc1RyZWUuYmFzZU5vZGUua2V5LmtleSA9PT0ga2V5LmtleTtcclxuXHRcdFx0fSlcclxuXHRcdCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYENsYXNzVHJlZSB3aXRoIGtleSAke2tleS5rZXl9IGluICcke3RoaXMuZ2V0UGFyZW50KCkubmFtZX0vU2luZ2xldG9uZUNvbnRhaW5lcicgbm90IGZvdW5kLmApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy4jaW5zdGFuY2VzLnNldChrZXkua2V5LCBpbnN0YW5jZSk7XHJcblx0fVxyXG5cclxuXHQvKiogUmV0dXJucyBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZXhpc3RzIG9yIG5vdC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7RElPYmplY3RLZXl9IGtleVxyXG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxyXG5cdCAqL1xyXG5cdGhhc0luc3RhbmNlKGtleSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuI2luc3RhbmNlcy5oYXMoa2V5LmtleSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7RElPYmplY3RLZXl9IGtleVxyXG5cdCAqIEByZXR1cm5zIHtPYmplY3R8RnVuY3Rpb25XcmFwcGVyfVxyXG5cdCAqL1xyXG5cdGdldEluc3RhbmNlKGtleSkge1xyXG5cdFx0Ly8gY29uc3QgZXhpc3RlZCA9IHRoaXMuI2luc3RhbmNlcy5nZXQoa2V5LmtleSk7XHJcblx0XHRjb25zdCBleGlzdGVkID0gdGhpcy4jaW5zdGFuY2VzLmdldChrZXkua2V5KTtcclxuXHRcdGlmIChleGlzdGVkKSB7XHJcblx0XHRcdHJldHVybiBleGlzdGVkO1xyXG5cdFx0fVxyXG5cdFx0Ly8gY29uc3QgY2xhenogPSB0aGlzLmNsYXNzVHJlZUxpc3QuZmluZChjbHMgPT4gZGVlcEVxdWFsKFN5bWJvbC5rZXlGb3IoY2xzLmJhc2VOb2RlLmtleS5rZXkpLCBTeW1ib2wua2V5Rm9yKGtleS5rZXkpKSk7XHJcblx0XHRjb25zdCBjbGF6eiA9IHRoaXMuY2xhc3NUcmVlTGlzdC5maW5kKChjbHMpID0+IGNscy5iYXNlTm9kZS5rZXkua2V5ID09PSBrZXkua2V5KTtcclxuXHRcdGlmICghY2xhenopIHtcclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLiNidWlsZEluc3RhbmNlKGNsYXp6KTtcclxuXHR9XHJcblxyXG5cdC8qKiBSZXR1cm5zIGNvbnRleHQgdGhhdCdzIGEgcGFyZW50IGNvbnRhaW5lciBvZiB0aGlzIFNlc3Npb25Db250YWluZXJcclxuXHQgKlxyXG5cdCAqIEByZXR1cm5zIHtDb250ZXh0Q29udGFpbmVyfVxyXG5cdCAqL1xyXG5cdGdldFBhcmVudCgpIHtcclxuXHRcdHJldHVybiB0aGlzLiNwYXJlbnQ7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaW5nbGV0b25lQ29udGFpbmVyO1xyXG4iXSwibWFw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Q2EsV0FBV0EsQ0FBQ1IsR0FBRyxDQUFFLENBQUFqQyxjQUFBLEdBQUFZLENBQUEsTUFBQVosY0FBQSxHQUFBYSxDQUFBLE9BQ2hCLE1BQU8sS0FBSSxDQUFDLENBQUNRLFNBQVMsQ0FBQ3FCLEdBQUcsQ0FBQ1QsR0FBRyxDQUFDQSxHQUFHLENBQUMsQ0FDcEMsQ0FFQTtBQUNEO0FBQ0E7QUFDQTtBQUNBLElBQ0NVLFdBQVdBLENBQUNWLEdBQUcsQ0FBRSxDQUFBakMsY0FBQSxHQUFBWSxDQUFBLE1BQ2hCO0FBQ0EsS0FBTSxDQUFBZ0MsT0FBTyxFQUFBNUMsY0FBQSxHQUFBYSxDQUFBLE9BQUcsSUFBSSxDQUFDLENBQUNRLFNBQVMsQ0FBQ3dCLEdBQUcsQ0FBQ1osR0FBRyxDQUFDQSxHQUFHLENBQUMsRUFBQ2pDLGNBQUEsR0FBQWEsQ0FBQSxPQUM3QyxHQUFJK0IsT0FBTyxDQUFFLENBQUE1QyxjQUFBLEdBQUFXLENBQUEsU0FBQVgsY0FBQSxHQUFBYSxDQUFBLE9BQ1osTUFBTyxDQUFBK0IsT0FBTyxDQUNmLENBQUMsS0FBQTVDLGNBQUEsR0FBQVcsQ0FBQSxVQUNEO0FBQ0EsS0FBTSxDQUFBZSxLQUFLLEVBQUExQixjQUFBLEdBQUFhLENBQUEsT0FBRyxJQUFJLENBQUNILGFBQWEsQ0FBQ0ssSUFBSSxDQUFFQyxHQUFHLEVBQUssQ0FBQWhCLGNBQUEsR0FBQVksQ0FBQSxNQUFBWixjQUFBLEdBQUFhLENBQUEsY0FBQUcsR0FBRyxDQUFDQyxRQUFRLENBQUNnQixHQUFHLENBQUNBLEdBQUcsR0FBS0EsR0FBRyxDQUFDQSxHQUFHLENBQUQsQ0FBQyxDQUFDLEVBQUNqQyxjQUFBLEdBQUFhLENBQUEsT0FDakYsR0FBSSxDQUFDYSxLQUFLLENBQUUsQ0FBQTFCLGNBQUEsR0FBQVcsQ0FBQSxTQUFBWCxjQUFBLEdBQUFhLENBQUEsT0FDWCxNQUFPLENBQUFpQyxTQUFTLENBQ2pCLENBQUMsS0FBQTlDLGNBQUEsR0FBQVcsQ0FBQSxVQUFBWCxjQUFBLEdBQUFhLENBQUEsT0FDRCxNQUFPLEtBQUksQ0FBQyxDQUFDVyxhQUFhLENBQUNFLEtBQUssQ0FBQyxDQUNsQyxDQUVBO0FBQ0Q7QUFDQTtBQUNBLElBQ0NZLFNBQVNBLENBQUEsQ0FBRyxDQUFBdEMsY0FBQSxHQUFBWSxDQUFBLE1BQUFaLGNBQUEsR0FBQWEsQ0FBQSxPQUNYLE1BQU8sS0FBSSxDQUFDLENBQUNKLE1BQU0sQ0FDcEIsQ0FDRCxDQUVBLGNBQWUsQ0FBQUYsbUJBQW1CIiwiaWdub3JlTGlzdCI6W119